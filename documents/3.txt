Черновик технического задания на поисковый чат-бот

Цель – реализовать поисковый чат-бот для сотрудников компании, отвечающий на вопросы по внутренним документам: регламентам, политике отпусков, процедурам онбординга и т.д. В основе должен лежать RAG-подход.

Функциональные требования

Пользовательский интерфейс

Веб-страница или экран в мобильном приложении с чат-интерфейсом.

История диалогов сохраняется локально на устройстве либо в профиле пользователя.

Поведение бота

Понимать естественный язык (русский, возможно английский).

Уметь ссылаться на источники: отображать список документов и секций, на которые опирается ответ.

Ограничения и политика безопасности

Не должен отвечать на вопросы вне корпоративного домена (например, «как приготовить борщ»).

Не должен раскрывать персональные данные других сотрудников.

Возможность ограничивать набор документов по ролям (ролевой доступ).

Нефункциональные требования

Время ответа: не более 3–5 секунд при нормальной нагрузке.

Масштабируемость: возможность индексировать десятки тысяч документов.

Обновляемость: пересоздание индекса не реже одного раза в сутки или инкрементальное обновление.

Архитектура индекса

Документы хранятся в виде сырых файлов плюс метаданные.

Чанкинг:

до 512 токенов на чанк,

overlap 64 токена,

сохранение ID документа и номера чанка.

Эмбеддинги: отдельный сервис, очереди для асинхронной обработки.

Индекс: FAISS или векторная БД (Qdrant).