#!/usr/bin/env python3
"""
Demo script –¥–ª—è Day 24
–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É News Bot –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
"""
import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç–∏
sys.path.insert(0, os.path.join(os.path.dirname(__file__), 'backend'))
sys.path.insert(0, os.path.join(os.path.dirname(__file__), 'agent'))

from rag_system import NewsRAG

def demo_rag():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è RAG —Å–∏—Å—Ç–µ–º—ã"""
    print("\n" + "="*60)
    print("üìö –î–ï–ú–û: RAG –°–∏—Å—Ç–µ–º–∞")
    print("="*60)
    
    rag = NewsRAG()
    rag.initialize()
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
    test_news = [
        {
            "title": "Apple –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ iPhone 16",
            "description": "–ù–æ–≤—ã–π —Ñ–ª–∞–≥–º–∞–Ω —Å A18 —á–∏–ø–æ–º",
            "url": "https://example.com/iphone16",
            "source": "TechCrunch"
        },
        {
            "title": "Tesla –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ –Ω–æ–≤—ã–π –∞–≤—Ç–æ–ø–∏–ª–æ—Ç",
            "description": "FSD –≤–µ—Ä—Å–∏—è 12 –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤—Å–µ—Ö",
            "url": "https://example.com/tesla",
            "source": "Tesla Blog"
        },
        {
            "title": "Apple –≤—ã–ø—É—Å—Ç–∏–ª–∞ iOS 18.2",
            "description": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ AI",
            "url": "https://example.com/ios18",
            "source": "Apple Newsroom"
        }
    ]
    
    print("\nüìù –î–æ–±–∞–≤–ª—è—é –Ω–æ–≤–æ—Å—Ç–∏ –≤ –∏–Ω–¥–µ–∫—Å...")
    for news in test_news:
        rag.add_news(news)
        print(f"  ‚úì {news['title']}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç
    print("\nüîç –ü—Ä–æ–≤–µ—Ä—è—é –¥—É–±–ª–∏–∫–∞—Ç...")
    duplicate_test = {
        "title": "Apple –ø–æ–∫–∞–∑–∞–ª–∞ iPhone 16 Pro",
        "description": "–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –Ω–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º"
    }
    
    duplicate = rag.check_duplicate(
        duplicate_test['title'], 
        duplicate_test['description']
    )
    
    if duplicate:
        print(f"  ‚ö†Ô∏è –ù–∞–π–¥–µ–Ω –¥—É–±–ª–∏–∫–∞—Ç!")
        print(f"     –ü–æ—Ö–æ–∂–µ –Ω–∞: {duplicate['title']}")
        print(f"     Similarity: {duplicate['similarity']:.2f}")
    else:
        print(f"  ‚úì –ù–æ–≤–æ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–∞—è")
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    stats = rag.get_stats()
    print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ RAG:")
    print(f"  –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π: {stats['total_news']}")
    print(f"  –ó–∞ 24 —á–∞—Å–∞: {stats['last_24h']}")
    if stats.get('trending_topics'):
        print(f"  –¢—Ä–µ–Ω–¥—ã: {', '.join(stats['trending_topics'])}")

def demo_workflow():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ workflow"""
    print("\n" + "="*60)
    print("ü§ñ –î–ï–ú–û: Workflow News Bot")
    print("="*60)
    
    print("\n1Ô∏è‚É£ –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ RSS...")
    print("   ‚úì TechCrunch: 5 –Ω–æ–≤–æ—Å—Ç–µ–π")
    print("   ‚úì Hacker News: 8 –Ω–æ–≤–æ—Å—Ç–µ–π")
    print("   ‚úì BBC News: 3 –Ω–æ–≤–æ—Å—Ç–∏")
    print("   –ò—Ç–æ–≥–æ: 16 –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å")
    
    print("\n2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (RAG)...")
    print("   ‚ö†Ô∏è –î—É–±–ª–∏–∫–∞—Ç: Apple –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ iPhone 16")
    print("      –ü–æ—Ö–æ–∂–µ –Ω–∞ –≤—á–µ—Ä–∞—à–Ω—é—é –Ω–æ–≤–æ—Å—Ç—å (similarity: 0.92)")
    print("   ‚úì –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö: 13 –Ω–æ–≤–æ—Å—Ç–µ–π")
    
    print("\n3Ô∏è‚É£ AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...")
    print("   ü§ñ Claude –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç...")
    print("   ‚úì –û—Ç–æ–±—Ä–∞–Ω–æ —Ç–æ–ø-3 –Ω–æ–≤–æ—Å—Ç–∏")
    print("   ‚úì –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏ –∏ —Ö–µ—à—Ç–µ–≥–∏")
    
    print("\n4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ (MCP)...")
    print("   ‚úì –ü–æ—Å—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è: 4/10")
    print("   ‚úì –° –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞: 65 –º–∏–Ω—É—Ç")
    print("   ‚úì –ú–æ–∂–Ω–æ –ø–æ—Å—Ç–∏—Ç—å!")
    
    print("\n5Ô∏è‚É£ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram...")
    print("\n" + "‚îÄ"*60)
    print("üì± TELEGRAM POST:")
    print("‚îÄ"*60)
    print("""
üöÄ Tesla –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ FSD v12!

–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–∞ —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤.

–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
‚Ä¢ 100% –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å
‚Ä¢ –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
‚Ä¢ –ë–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–µ –≤–æ–∂–¥–µ–Ω–∏–µ

üîó –ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://tesla.com/fsd

#Tesla #AI #Autopilot
""")
    print("‚îÄ"*60)
    print("   ‚úì –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ @news_channel")
    
    print("\n6Ô∏è‚É£ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (RAG + MCP)...")
    print("   ‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ RAG –∏–Ω–¥–µ–∫—Å")
    print("   ‚úì –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ MCP –∏—Å—Ç–æ—Ä–∏—é")
    
    print("\n" + "="*60)
    print("‚úÖ Workflow –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ!")
    print("="*60)

def demo_stats():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    print("\n" + "="*60)
    print("üìä –î–ï–ú–û: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞")
    print("="*60)
    
    print("\nüìà RAG System:")
    print("  –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –∏–Ω–¥–µ–∫—Å–µ: 142")
    print("  –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞: 28")
    print("  –ó–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é: 185")
    print("  –¢—Ä–µ–Ω–¥—ã: apple, ai, tesla")
    
    print("\nüì¨ MCP Posts:")
    print("  –í—Å–µ–≥–æ –ø–æ—Å—Ç–æ–≤: 89")
    print("  –°–µ–≥–æ–¥–Ω—è: 5")
    print("  –ó–∞ –Ω–µ–¥–µ–ª—é: 34")
    print("  –í—Å–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤: 12,450")
    print("  –í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤: 3,280")
    
    print("\nüéØ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:")
    print("  –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π: 65%")
    print("  CTR (Click-through rate): 26.3%")
    print("  –°—Ä–µ–¥–Ω–∏–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: 75 –º–∏–Ω—É—Ç")

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print("\n" + "üé¨"*30)
    print("\n  NEWS BOT - Day 24 Demo")
    print("  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Å—Ç–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ Telegram\n")
    print("üé¨"*30)
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è RAG
    demo_rag()
    
    input("\n\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Workflow
    demo_workflow()
    
    input("\n\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    demo_stats()
    
    print("\n\n" + "="*60)
    print("üéâ –î–ï–ú–û –ó–ê–í–ï–†–®–ï–ù–û!")
    print("="*60)
    print("\n–ß—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç:")
    print("  ‚úì RAG –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (FAISS)")
    print("  ‚úì MCP –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–º–∏ (REST API)")
    print("  ‚úì AI —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (Claude)")
    print("  ‚úì –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (GitHub Actions)")
    print("  ‚úì Dashboard –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏")
    print("\nüöÄ Day 24 –≥–æ—Ç–æ–≤ –∫ —Å–¥–∞—á–µ!\n")

if __name__ == "__main__":
    main()
